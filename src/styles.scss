// Include theming for Angular Material with `mat.theme()`.
// This Sass mixin will define CSS variables that are used for styling Angular Material
// components according to the Material 3 design spec.
// Learn more about theming and how to use it for your application's
// custom components at https://material.angular.dev/guide/theming
@use '@angular/material' as mat;
@import 'ag-grid-community/styles/ag-grid.css';
@import 'ag-grid-community/styles/ag-theme-quartz.css';

html {
  height: 100%;
  @include mat.theme(
    (
      color: (
        primary: mat.$cyan-palette,
        tertiary: mat.$orange-palette,
      ),
      typography: Inter,
      density: 0,
    )
  );
}

body {
  // Default the application to a light color theme. This can be changed to
  // `dark` to enable the dark color theme, or to `light dark` to defer to the
  // user's system settings.
  color-scheme: light;

  // Set a default background, font and text colors for the application using
  // Angular Material's system-level CSS variables. Learn more about these
  // variables at https://material.angular.dev/guide/system-variables
  background-color: var(--mat-sys-surface);
  color: var(--mat-sys-on-surface);
  font: var(--mat-sys-body-medium);

  // Reset the user agent margin.
  margin: 0;
  height: 100%;
}

/* You can add global styles to this file, and also import other style files */
.form-control-wrapper {
  position: relative;
  width: 100%;

  // Label styling
  .label {
    display: block;
    margin-bottom: 0.5rem;
    font-size: 0.875rem;
    font-weight: 500;
    line-height: 1.5;
  }

  // Form control styling
  .form-control {
    display: block;
    width: 100%;
    box-sizing: border-box; // Includes padding in width calculation
    padding: 0.625rem 0.75rem;
    min-height: calc(1.5em + 0.75rem + 2px) /* Default height for medium size */;
    font-size: 0.875rem;
    font-weight: 400;
    line-height: 1.5;
    background-color: #fff;
    background-clip: padding-box;
    border: 1px solid #ced4da;
    appearance: none;
    border-radius: 0.375rem;
    transition:
      border-color 0.15s ease-in-out,
      box-shadow 0.15s ease-in-out;

    // Focus state - Green color
    &:focus {
      color: #212529;
      background-color: #fff;
      border-color: #2ea363;
      outline: 0;
      box-shadow: 0 0 0 0.25rem rgba(46, 163, 99, 0.25);
    }

    // Placeholder
    &::placeholder {
      color: #6c757d;
      opacity: 1;
    }

    // Disabled and readonly
    &:disabled,
    &[readonly] {
      background-color: #e9ecef;
      opacity: 1;
    }

    // Error state (when ng-invalid and ng-touched)
    &.ng-invalid.ng-touched {
      border-color: #f22e2e;

      &:focus {
        border-color: #f22e2e;
        box-shadow: 0 0 0 0.25rem rgba(242, 46, 46, 0.25);
      }
    }
  }

  // Material Error styling
  mat-error {
    display: block;
    margin-top: 0.25rem;
    font-size: 0.875rem;
    color: #f22e2e;
    line-height: 1.4;
    animation: slideDown 0.2s ease-out;
  }

  // Optional: Icon suffix styling (if you uncomment mat-icon)
  mat-icon[matSuffix] {
    position: absolute;
    right: 0.75rem;
    top: 50%;
    transform: translateY(-50%);
    color: #6c757d;
    font-size: 1.25rem;
    pointer-events: none;
  }

  // When input has suffix icon, add padding
  &.has-suffix {
    .form-control {
      padding-right: 2.5rem;
    }
  }
}

// Animation for error messages
@keyframes slideDown {
  from {
    opacity: 0;
    transform: translateY(-5px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

// Optional: Different sizes
.form-control-wrapper {
  // Small size
  &.form-control-sm {
    .form-control {
      min-height: calc(1.5em + 0.5rem + 2px);
      padding: 0.25rem 0.5rem;
      font-size: 0.875rem;
      border-radius: 0.25rem;
    }
  }

  // Large size
  &.form-control-lg {
    .form-control {
      min-height: calc(1.5em + 1rem + 2px);
      padding: 0.5rem 1rem;
      font-size: 1.25rem;
      border-radius: 0.5rem;
    }
  }
}
